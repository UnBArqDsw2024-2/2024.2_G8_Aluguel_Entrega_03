# 3.1. Módulo Padrões de Projeto GoFs Criacionais

<!-- Foco_01: Padrões de Projeto GoFs Criacionais

Entrega Mínima: 1 Padrão GoF Criacional, com nível de modelagem e nível de implementação evidenciados (ou seja, código rodando e hospedado no repositório do projeto).

Apresentação (em sala) explicando o GoF Criacional, com: (i) rastro claro aos membros participantes (MOSTRAR QUADRO DE PARTICIPAÇÕES & COMMITS); (ii) justificativas & senso crítico sobre o padrão GOF criacional, e (iii) comentários gerais sobre o trabalho em equipe. Tempo da Apresentação: +/- 5min. Recomendação: Apresentar diretamente via Wiki ou GitPages do Projeto. Baixar os conteúdos com antecedência, evitando problemas de internet no momento de exposição nas Dinâmicas de Avaliação.

A Wiki ou GitPages do Projeto deve conter um tópico dedicado ao Módulo Padrões de Projeto GoFs Criacionais, com 1 padrão GoF Criacional (modelagem & implementação), histórico de versões, referências, e demais detalhamentos gerados pela equipe nesse escopo.

Demais orientações disponíveis nas Diretrizes (vide Moodle). -->


## Factory Method

O padrão de projeto Factory Method foi utilizado para encapsular a lógica de criação de um objeto User com base nos dados recebidos no CreateUserDto. Esse padrão é útil porque centraliza a criação de objetos, promovendo reuso, padronização e organização do código.

A seguir tem a imagens da implementação:

<div style="text-align: center;">
    <img src="./image/classe-user-factory.png" alt="Classe UserFactory">
</div>
<figcaption align='center'>
    <h6><b>Figura 1: Classe UserFactory. Autor(es): Gabriel Marcolino e Shaíne Oliveira</h6></b>
</figcaption>

## Builder

O padrão **Builder** permite a construção de objetos complexos passo a passo. Ele foi utilizado no método `updateUser` para construir o objeto `UpdateUserDto`.

## Rastreabilidade e Elos com Outros Artefatos
- **Camada de Serviço**: Usa o objeto configurado pelo Builder para a lógica de negócio.
- **Camada de Repositório**: Recebe o objeto `UpdateUserDto` construído pelo Builder para enviar ao banco.

## Modelagem
### Diagrama UML:

+--------------------+ | UpdateUserBuilder | +--------------------+ | v +--------------------+ | UpdateUserDto | +--------------------+

## Implementação
### Classe Builder:
```typescript
export class UpdateUserBuilder {
  private userData: UpdateUserDto = {};

  setName(name: string): this {
    this.userData.name = name;
    return this;
  }

  setEmail(email: string): this {
    this.userData.email = email;
    return this;
  }

  setPassword(password: string): this {
    this.userData.password = password;
    return this;
  }

  setSite(site: string): this {
    this.userData.site = site;
    return this;
  }

  setTelephones(telephones: UpdateTelephoneDto[]): this {
    this.userData.telephone = telephones;
    return this;
  }

  build(): UpdateUserDto {
    return this.userData;
  }
}
```

### Uso no Método `updateUser`:
```typescript
const builder = new UpdateUserBuilder();
const userData = builder
  .setName(data.name)
  .setEmail(data.email)
  .setPassword(data.password)
  .setSite(data.site)
  .setTelephones(data.telephone)
  .build();
```

## Senso Crítico
### Por que Builder?
- Evita que a lógica de configuração de objetos fique espalhada no código.

### Pontos Positivos:
- Facilita a adição de novos campos sem alterar o método principal.

### Limitações:
- Requer mais esforço inicial para configurar o Builder.

## Referências

1. Refactoring Guru. Disponível em: <https://refactoring.guru/pt-br>. Acesso em: 24 de dezembro de 2024.

## Histórico de Versão

| Versão |    Data    |           Descrição           | Significância |   Comprobatórios      |     Autor(es)         |
| :----: | :--------: | :---------------------------: | :-----------: | :-------------------: | :--------------------:|
| `1.0`  | 02/01/2025 | Adicionando padrão de projeto Factory | Excelente     | [Commit Link](#)    | [Gabriel Marcolino](https://github.com/GabrielMR360), [Shaíne Oliveira](https://github.com/ShaineOliveira) |
| `2.0`  | 04/01/2025 | Implementação e documentação do Padrão Builder | Excelente     | [Commit 1](https://github.com/UnBArqDsw2024-2/2024.2_G8_Aluguel_Entrega_03/commit/60b8208865e6fb2a48aacddb45632e8affe1d98c), [Commit 2](https://github.com/UnBArqDsw2024-2/2024.2_G8_Aluguel_Entrega_03/commit/71e0f3009d39e773595072aa7c29b60c993c35d4)    | [Arthur Gabriel](https://github.com/ArthurGabrieel), [Miguel Moreira](https://github.com/EhOMiguel) |
